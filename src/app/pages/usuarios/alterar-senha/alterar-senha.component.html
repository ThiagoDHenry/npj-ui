<main>
  <p-card styleClass="card-adjust">
    <br>
    <div class="grid justify-content-center">
      <h4>Alterar Senha</h4>
    </div>
    <div class="p-d-flex p-jc-between">
      <div>
        <button pButton pRipple type="button" class="p-button-raised p-button-warning" icon="pi pi-angle-left"
          pTooltip="Voltar" tooltipPosition="top" routerLink="/usuarios"></button>
      </div>
    </div>
    <br>
    <form #f="ngForm" autocomplete="off" (ngSubmit)="validaAlterarSenha(f)">
      <div class="grid  justify-content-center">
        <div class="col-12 md:col-6 lg:col-3">
          <h6>*Nova Senha</h6>
          <input pPassword type="password" name="password" promptLabel="Digite sua password" weakLabel="Fraco"
            mediumLabel="Médio " strongLabel="Forte" [(ngModel)]="usuario.password" #password="ngModel" minlength="6"
            maxlength="60" onfocus="this.removeAttribute('readonly');" required #pass>
          <span (click)="pass.type = pass.type =='password'?'text':'password'" class="pi pi-eye-slash field-icon"
            [ngClass]="(pass.type =='password')?'pi-eye-slash':'pi pi-eye'"></span>
          <app-message [control]="password" error="required" text="Informe uma password"></app-message>
          <app-message [control]="password" error="minlength" text="Mínimo de 6 caracteres"></app-message>
        </div>
  
        <div class="col-12 md:col-6 lg:col-3">
          <h6>*Confirmar Senha</h6>
          <input pInputText name="cpassword" type="password" maxlength="60" ngValidateEqual="password" minlength="6"
            [(ngModel)]="usuario.cpassword" #cpassword="ngModel" required #cpass>
          <span (click)="cpass.type = cpass.type =='password'?'text':'password'" class="pi pi-eye-slash field-icon"
            [ngClass]="(cpass.type =='password')?'pi-eye-slash':'pi pi-eye'"></span>
          <app-message [control]="cpassword" error="required" text="Repita a password"></app-message>
          <app-message [control]="cpassword" error="minlength" text="Mínimo de 6 caracteres"></app-message>
          <div *ngIf="(cpassword.dirty || cpassword.touched) && cpassword.invalid">
            <p class="p-message p-message-error" role="alert" *ngIf="cpassword.hasError('notEqual') && password.valid">
              As passwords não correspondem...
            </p>
          </div>
        </div>
      </div>
      <br>
      <p-footer>
        <div class="grid  justify-content-center mt-2">
          <div class="col-12 md:col-6 lg:col-3">
            <button pButton pRipple type="submit" label="Confirmar" icon="fas fa-save" [disabled]="f.invalid"
              class="p-button-raised p-button-warning w-full"></button>
          </div>
        </div>
      </p-footer>
    </form>
  </p-card>
</main>